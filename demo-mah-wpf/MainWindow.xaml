<mah:MetroWindow x:Class="demo_mah_wpf.MainWindow"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
                    xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:local="clr-namespace:demo_mah_wpf" xmlns:sys="clr-namespace:System;assembly=mscorlib" 
                 Title="MainWindow"
                    Width="800"
                    Height="450"
                    GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
                    ResizeMode="CanResizeWithGrip"
                    WindowStyle="None"
                    WindowState="Maximized"
                    WindowStartupLocation="CenterScreen"
                    mc:Ignorable="d" Topmost="False"
                 
    ShowTitleBar="True"

    ShowCloseButton="True" 
    ShowMaxRestoreButton="True" 
    ShowMinButton="True"

    ShowIconOnTitleBar="True">

    <mah:MetroWindow.LeftWindowCommands>
        <mah:WindowCommands>
            <Button Click="LaunchGitHubSite" ToolTip="Open up the GitHub site">
                <iconPacks:PackIconModern Width="22"
                                  Height="22"
                                  Kind="SocialGithubOctocat" />
            </Button>
        </mah:WindowCommands>
    </mah:MetroWindow.LeftWindowCommands>

    <mah:MetroWindow.RightWindowCommands>
        <mah:WindowCommands>
            <Button Click="DeployCupCakes" Content="Deploy CupCakes">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Width="22"
                                        Height="22"
                                        VerticalAlignment="Center"
                                        Kind="FoodCupcake" />
                            <TextBlock Margin="4 0 0 0"
                                VerticalAlignment="Center"
                                Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
        </mah:WindowCommands>
    </mah:MetroWindow.RightWindowCommands>

    <Window.Resources>
        <Style TargetType="{x:Type Control}" x:Key="centralBookingStyle">
            <Setter Property="FontSize" Value="100" />
        </Style>
        
        <sys:String x:Key="strHelloWorld">Hello, world!</sys:String>
        <sys:String x:Key="strWindow">Hello, Window world!</sys:String>
        <x:Array x:Key="ComboBoxItems" Type="sys:String">
            <sys:String>Item #1</sys:String>
            <sys:String>Item #2</sys:String>
            <sys:String>Item #3</sys:String>
        </x:Array>

        <local:NameList x:Key="NameListData"/>
        
        <!--<local:TaskList x:Key="MyTodoList"/>-->
        <!--<local:ViewModel x:Key="MyTodoList"/>-->
        <local:CentralBookingPaginationDataTemplateSelector x:Key="MyDataTemplateSelector"/>

        <local:ViewModel x:Key="MyTodoList"/>

        <DataTemplate x:Key="ImportantTaskTemplate">
            <DataTemplate.Resources>
                <Style TargetType="TextBlock">
                    <Setter Property="FontSize" Value="20"/>
                </Style>
            </DataTemplate.Resources>
            <Border Name="border" BorderBrush="Red" BorderThickness="1" Background="Transparent"
              Padding="5" Margin="5">
                <DockPanel HorizontalAlignment="Center">
                    <TextBlock Text="{Binding Path=TicketNum}" />
                    <TextBlock>!</TextBlock>
                </DockPanel>
            </Border>
        </DataTemplate>

        <DataTemplate x:Key="MyTaskTemplate">
            <Border Name="border" Background="Transparent" BorderThickness="1"
              Padding="5" Margin="5">
                <Grid Background="Transparent">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <!--<TextBlock Grid.Row="0" Grid.Column="0" Text="Booking Name:"/>-->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding Path=TicketNum}" />
                    <mah:FontIcon Grid.Row="0" Grid.Column="1" FontFamily="Segoe MDL2 Assets" Glyph="&#xF0AF;" />
                    <!--<TextBlock Grid.Row="1" Grid.Column="0" Text="Description:"/>-->
                    <TextBlock Grid.Row="0" Grid.Column="2" Text="{Binding Path=RoomNum}"/>
                    <!--<TextBlock Grid.Row="2" Grid.Column="0" Text="Priority:"/>-->
                    <!--<TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Path=Priority}"/>-->
                </Grid>
            </Border>

            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding Path=TaskType}">
                    <DataTrigger.Value>
                        <local:TaskType>Home</local:TaskType>
                    </DataTrigger.Value>
                    <Setter TargetName="border" Property="BorderBrush" Value="Yellow" />
                </DataTrigger>
            </DataTemplate.Triggers>

        </DataTemplate>

        <DataTemplate x:Key="NameItemTemplate">
            <StackPanel>
                <TextBlock Text="{Binding Path=ID}" />
                <TextBlock Text="{Binding Path=Date}"/>
                <TextBlock Text="{Binding Path=FirstName}"/>
                <TextBlock Text="{Binding Path=LastName}"/>
            </StackPanel>
        </DataTemplate>
    </Window.Resources>

    <!-- Grid not support scrolling functionality, embed Grid into StackPanel -->
    <DockPanel Width="auto" Height="auto" Margin="0">
        <ScrollViewer HorizontalScrollBarVisibility="Visible">
            <Grid>
                <!--  Your content  -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="2*"></RowDefinition>
                    <RowDefinition Height="6*"></RowDefinition>
                </Grid.RowDefinitions>
                <Border Grid.Column="0" Grid.Row="0" BorderBrush="Yellow" Margin="1" BorderThickness="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                <Border Grid.Column="0" Grid.Row="1" BorderBrush="Gray" Margin="1" BorderThickness="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                <StackPanel Margin="10" Grid.Row="0" Grid.Column="0" Orientation="Vertical">
                    <TextBlock Text="{StaticResource strHelloWorld}" FontSize="56" />
                    <TextBlock>Just another "<TextBlock Text="{StaticResource strHelloWorld}" />" example, but with resources!</TextBlock>
                </StackPanel>
                
                <StackPanel Margin="10" Grid.Row="1" Grid.Column="0" ScrollViewer.CanContentScroll="True" ScrollViewer.VerticalScrollBarVisibility="Visible">
                    <!--<ScrollViewer>
                    <ListBox ItemsSource="{Binding CentralBookingViewModel.CentralBookingPagination}"
                             ItemTemplateSelector="{StaticResource MyDataTemplateSelector}"
                             HorizontalContentAlignment="Stretch" ScrollViewer.CanContentScroll="True" ScrollViewer.VerticalScrollBarVisibility="Visible">
                    </ListBox>
                </ScrollViewer>-->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="2*"></RowDefinition>
                            <RowDefinition Height="8*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"></ColumnDefinition>
                            <ColumnDefinition Width="1*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        
                        <Rectangle Grid.Column="0" Grid.RowSpan="1000">
                            <Rectangle.Fill>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="Gray" Offset="0" />
                                    <GradientStop Color="Gray" Offset="1" />
                                </LinearGradientBrush>
                            </Rectangle.Fill>
                        </Rectangle>

                        <!--<UniformGrid Grid.Row="0" Grid.Column="1">
                            <ListBox DockPanel.Dock="Left"
                            ItemsSource="{Binding CentralBookingViewModel.CentralBookingPagination[0].CentralBookingColumnDisplay}"
                            ItemTemplateSelector="{StaticResource MyDataTemplateSelector}"
                            VerticalAlignment="Top" VerticalContentAlignment="Stretch" 
                         
                            ScrollViewer.VerticalScrollBarVisibility="Visible"
                            ScrollViewer.CanContentScroll="False">
                                <TextBlock Text="{Binding Value.TaskName}" />
                            </ListBox>
                        </UniformGrid>-->

                        <DockPanel Grid.Row="0" Grid.Column="0" Background="Transparent">
                            <ItemsControl ItemsSource="{Binding CentralBookingViewModel.CentralBookingPagination[0].CentralBookingColumnDisplay}" Background="Transparent">
                                <!--The ItemsControl has no default visual appearance.
                                      Use the Template property to specify a ControlTemplate to define
                                      the appearance of an ItemsControl. The ItemsPresenter uses the specified
                                      ItemsPanelTemplate (see below) to layout the items. If an
                                      ItemsPanelTemplate is not specified, the default is used. (For ItemsControl,
                                      the default is an ItemsPanelTemplate that specifies a StackPanel.-->
                                <ItemsControl.Template>
                                    <ControlTemplate TargetType="ItemsControl">
                                        <Border BorderBrush="Black" BorderThickness="3" Background="Transparent">
                                            <ItemsPresenter />
                                        </Border>
                                    </ControlTemplate>
                                </ItemsControl.Template>
                                
                                <!--Use the ItemsPanel property to specify an ItemsPanelTemplate
                                  that defines the panel that is used to hold the generated items.
                                  In other words, use this property if you want to affect
                                  how the items are laid out.-->
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid ></UniformGrid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>

                                <!--Use the ItemTemplate to set a DataTemplate to define
                                  the visualization of the data objects. This DataTemplate
                                  specifies that each data object appears with the Priority
                                  and TaskName on top of a silver ellipse.-->
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <ListView Background="Transparent"
                                            VerticalAlignment="Top" VerticalContentAlignment="Stretch" 
                                            ScrollViewer.VerticalScrollBarVisibility="Visible"
                                            ScrollViewer.CanContentScroll="False">
                                            <!--<TextBlock Text="{Binding Key}" />
                                            <TextBlock Text="{Binding Value}" />-->

                                            <ListView Background="Transparent"
                                                ItemsSource="{Binding Value}"
                                            ItemTemplateSelector="{StaticResource MyDataTemplateSelector}"
                                            VerticalAlignment="Top" VerticalContentAlignment="Stretch" 
                                            ScrollViewer.VerticalScrollBarVisibility="Visible"
                                            ScrollViewer.CanContentScroll="False">
                                            </ListView>
                                        </ListView>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </DockPanel>
                    </Grid>
                </StackPanel>

                <!--<DockPanel Margin="10" Name="pnlMain" Grid.Row="2" Grid.Column="0">
                <DockPanel.Resources>
                    <sys:String x:Key="strPanel">Hello, Panel world!</sys:String>
                </DockPanel.Resources>

                <StackPanel DockPanel.Dock="Top" Margin="10">
                </StackPanel>

                -->
                <!--<StackPanel DockPanel.Dock="Top" Margin="10">
                    <ListBox HorizontalContentAlignment="Stretch"
                         ItemsSource="{Binding Source={StaticResource NameListData}}"  
                         ItemTemplate="{StaticResource NameItemTemplate}"
                         IsSynchronizedWithCurrentItem="True"/>
                </StackPanel>
                <WrapPanel DockPanel.Dock="Top" HorizontalAlignment="Center" Margin="10">
                    <StackPanel Orientation="Vertical">
                        <Button Name="btnClickMe" Click="btnClickMe_Click">Click me!</Button>
                        <ListBox Name="lbResult" />
                    </StackPanel>
                </WrapPanel>-->

                <!--<DockPanel>
                    <StackPanel Orientation="Vertical">
                    <DataGrid ItemsSource="{Binding Source=NameList}"  AutoGenerateColumns="False" Height="80">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding ID}"/>
                            <DataGridTextColumn Header="Date" Binding="{Binding Date}"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    </StackPanel>
                </DockPanel>-->
                <!--
            </DockPanel>-->
            </Grid>
        </ScrollViewer>
    </DockPanel>
</mah:MetroWindow>