<mah:MetroWindow x:Class="demo_mah_wpf.MainWindow"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
                    xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:local="clr-namespace:demo_mah_wpf" xmlns:sys="clr-namespace:System;assembly=mscorlib"
                 Title="MainWindow"
                    Width="800"
                    Height="450"
                    GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
                    ResizeMode="CanResizeWithGrip"
                    WindowStyle="None"
                    WindowState="Maximized"
                    WindowStartupLocation="CenterScreen"
                    mc:Ignorable="d" Topmost="False"
                 
    ShowTitleBar="True"

    ShowCloseButton="True" 
    ShowMaxRestoreButton="True" 
    ShowMinButton="True"

    ShowIconOnTitleBar="True">

    <mah:MetroWindow.LeftWindowCommands>
        <mah:WindowCommands>
            <Button Click="LaunchGitHubSite" ToolTip="Open up the GitHub site">
                <iconPacks:PackIconModern Width="22"
                                  Height="22"
                                  Kind="SocialGithubOctocat" />
            </Button>
        </mah:WindowCommands>
    </mah:MetroWindow.LeftWindowCommands>

    <mah:MetroWindow.RightWindowCommands>
        <mah:WindowCommands>
            <Button Click="DeployCupCakes" Content="Deploy CupCakes">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Width="22"
                                        Height="22"
                                        VerticalAlignment="Center"
                                        Kind="FoodCupcake" />
                            <TextBlock Margin="4 0 0 0"
                         VerticalAlignment="Center"
                         Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
        </mah:WindowCommands>
    </mah:MetroWindow.RightWindowCommands>

    <Window.Resources>
        <sys:String x:Key="strHelloWorld">Hello, world!</sys:String>
        <sys:String x:Key="strWindow">Hello, Window world!</sys:String>
        <x:Array x:Key="ComboBoxItems" Type="sys:String">
            <sys:String>Item #1</sys:String>
            <sys:String>Item #2</sys:String>
            <sys:String>Item #3</sys:String>
        </x:Array>

        <local:NameList x:Key="NameListData"/>
        
        <!--<local:TaskList x:Key="MyTodoList"/>-->
        <local:TaskViewModel x:Key="MyTodoList"/>
        <local:TaskListDataTemplateSelector x:Key="MyDataTemplateSelector"/>

        <DataTemplate x:Key="ImportantTaskTemplate">
            <DataTemplate.Resources>
                <Style TargetType="TextBlock">
                    <Setter Property="FontSize" Value="20"/>
                </Style>
            </DataTemplate.Resources>
            <Border Name="border" BorderBrush="Red" BorderThickness="1"
              Padding="5" Margin="5">
                <DockPanel HorizontalAlignment="Center">
                    <TextBlock Text="{Binding Path=Description}" />
                    <TextBlock>!</TextBlock>
                </DockPanel>
            </Border>
        </DataTemplate>


        <DataTemplate x:Key="MyTaskTemplate">
            <Border Name="border" BorderBrush="Aqua" BorderThickness="1"
              Padding="5" Margin="5">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Task Name:"/>
                    <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Path=TaskName}" />
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Description:"/>
                    <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Path=Description}"/>
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Priority:"/>
                    <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Path=Priority}"/>
                </Grid>
            </Border>

            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding Path=TaskType}">
                    <DataTrigger.Value>
                        <local:TaskType>Home</local:TaskType>
                    </DataTrigger.Value>
                    <Setter TargetName="border" Property="BorderBrush" Value="Yellow"/>
                </DataTrigger>
            </DataTemplate.Triggers>

        </DataTemplate>

        <DataTemplate x:Key="NameItemTemplate">
            <StackPanel>
                <TextBlock Text="{Binding Path=ID}" />
                <TextBlock Text="{Binding Path=Date}"/>
                <TextBlock Text="{Binding Path=FirstName}"/>
                <TextBlock Text="{Binding Path=LastName}"/>
            </StackPanel>
        </DataTemplate>
    </Window.Resources>

    <Grid>
        <!--  Your content  -->
        <Grid.RowDefinitions>
            <RowDefinition Height="2*"></RowDefinition>
            <RowDefinition Height="2*"></RowDefinition>
            <RowDefinition Height="6*"></RowDefinition>
        </Grid.RowDefinitions>
        <Border Grid.Column="0" Grid.Row="0" BorderBrush="Yellow" Margin="1" BorderThickness="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
        <Border Grid.Column="0" Grid.Row="1" BorderBrush="Gray" Margin="1" BorderThickness="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

        <StackPanel Margin="10" Grid.Row="0" Grid.Column="0" Orientation="Vertical">
            <TextBlock Text="{StaticResource strHelloWorld}" FontSize="56" />
            <TextBlock>Just another "<TextBlock Text="{StaticResource strHelloWorld}" />" example, but with resources!</TextBlock>
        </StackPanel>
        <StackPanel Margin="10" Grid.Row="1" Grid.Column="0">
            <StackPanel.Resources>
                <sys:String x:Key="ComboBoxTitle">Items:</sys:String>
            </StackPanel.Resources>
            <Label Content="{StaticResource ComboBoxTitle}" />
        </StackPanel>

        <DockPanel Margin="10" Name="pnlMain" Grid.Row="2" Grid.Column="0">
            <DockPanel.Resources>
                <sys:String x:Key="strPanel">Hello, Panel world!</sys:String>
            </DockPanel.Resources>

            <StackPanel>
                <TextBlock FontSize="20" Text="My Task List:"/>
                <ListBox Width="400" Margin="10"
             ItemsSource="{Binding Source={StaticResource MyTodoList}}"
             ItemTemplateSelector="{StaticResource MyDataTemplateSelector}"
             HorizontalContentAlignment="Stretch" 
             IsSynchronizedWithCurrentItem="True"/>
                <TextBlock FontSize="20" Text="Information:"/>
                <ContentControl Content="{Binding Source={StaticResource MyTodoList}}"
                    ContentTemplate="{StaticResource MyTaskTemplate}"/>
            </StackPanel>

            <StackPanel DockPanel.Dock="Top" Margin="10">
                <ListBox HorizontalContentAlignment="Stretch"
                     ItemsSource="{Binding Source={StaticResource NameListData}}"  
                     ItemTemplate="{StaticResource NameItemTemplate}"
                     IsSynchronizedWithCurrentItem="True"/>
            </StackPanel>
            <WrapPanel DockPanel.Dock="Top" HorizontalAlignment="Center" Margin="10">
                <StackPanel Orientation="Vertical">
                    <Button Name="btnClickMe" Click="btnClickMe_Click">Click me!</Button>
                    <ListBox Name="lbResult" />
                </StackPanel>
            </WrapPanel>

            <DockPanel>
                <StackPanel Orientation="Vertical">
                <DataGrid ItemsSource="{Binding Source=NameList}"  AutoGenerateColumns="False" Height="80">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding ID}"/>
                        <DataGridTextColumn Header="Date" Binding="{Binding Date}"/>
                    </DataGrid.Columns>
                </DataGrid>
                
                <!-- 
                  Table is a Block element, and as such must be hosted in a container
                  for Block elements.  FlowDocument provides such a container. 
                -->
                <FlowDocumentReader>
                    <FlowDocument>
                        <Table>
                            <!-- 
                              This table has 3 columns, each described by a TableColumn 
                              element nested in a Table.Columns collection element. 
                            -->
                            <Table.Columns>
                                <TableColumn />
                                <TableColumn />
                                <TableColumn />
                            </Table.Columns>
                            <!-- 
                              This table includes a single TableRowGroup which hosts 2 rows,
                              each described by a TableRow element.
                            -->
                            <TableRowGroup>
                                <!--
                                    Each of the 2 TableRow elements hosts 3 cells, described by
                                    TableCell elements.
                                  -->
                                <TableRow>
                                    <TableCell>
                                        <!-- 
                                            TableCell elements may only host elements derived from Block.
                                            In this example, Paragaph elements serve as the ultimate content
                                            containers for the cells in this table.
                                          -->
                                        <Paragraph>Cell at Row 1 Column 1</Paragraph>
                                    </TableCell>
                                    <TableCell>
                                        <Paragraph>Cell at Row 1 Column 2</Paragraph>
                                    </TableCell>
                                    <TableCell>
                                        <Paragraph>Cell at Row 1 Column 3</Paragraph>
                                    </TableCell>
                                </TableRow>
                                <TableRow>
                                    <TableCell>
                                        <Paragraph>Cell at Row 2 Column 1</Paragraph>
                                    </TableCell>
                                    <TableCell>
                                        <Paragraph>Cell at Row 2 Column 2</Paragraph>
                                    </TableCell>
                                    <TableCell>
                                        <Paragraph>Cell at Row 2 Column 3</Paragraph>
                                    </TableCell>
                                </TableRow>
                            </TableRowGroup>
                        </Table>
                    </FlowDocument>
                </FlowDocumentReader>

                </StackPanel>
            </DockPanel>
        </DockPanel>
    </Grid>
</mah:MetroWindow>